[gcode_macro BEEP]
gcode:
    {% set frequency = params.FREQUENCY|default(2000)|int %}; Frequency in Hz. Default 2kHz.
    {% set duration  = params.DURATION|default(100)|int %}  ; Duration of each beep in ms. Default 100ms.
    {% set wait  = params.wait|default(100)|int %}  ; wait of each beep in ms. Default 100ms.

    
    SET_PIN PIN=beeper VALUE={frequency}
    G4 P{duration}
    SET_PIN PIN=beeper VALUE=0
