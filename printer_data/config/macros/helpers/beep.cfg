[gcode_macro BEEP]
gcode:
    {% set frequency = params.FREQUENCY|default(2000)|int %}; Frequency in Hz. Default 2kHz.
    {% set duration  = params.DURATION|default(100)|int %}  ; Duration of each beep in ms. Default 100ms.
    {% set duration  = params.wait|DEFAULT(100)|INT %}  ; DURATION OF EACH BEEP IN MS. DEFAULT 100MS.

    
    SET_PIN PIN=BEEPER VALUE={FREQUENCY}
    G4 P{DURATION}
    SET_PIN PIN=BEEPER VALUE=0
